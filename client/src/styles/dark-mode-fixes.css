/* Dark Mode Text Fixes - Ensuring text is visible in dark mode */

/* Global text color fixes in dark mode */
html.dark, 
html[data-theme="dark"] {
  /* Base colors with different gradients of black */
  --dark-bg-primary: hsl(222.2 84% 4.9%);      /* Darkest background */
  --dark-bg-secondary: hsl(222.2 84% 8%);      /* Slightly lighter for cards */
  --dark-bg-tertiary: hsl(222.2 84% 12%);      /* Even lighter for inputs */
  --dark-bg-highlight: hsl(222.2 84% 15%);     /* For hover states */
  --dark-bg-accent: hsl(222.2 84% 20%);        /* For active states */
  
  --dark-border: hsl(217.2 32.6% 17.5%);       /* Border color */
  --dark-border-light: hsl(217.2 32.6% 25%);   /* Lighter border for contrast */
  
  --dark-text-primary: hsl(210 40% 98%);       /* Primary text */
  --dark-text-secondary: hsl(215 20.2% 65.1%); /* Secondary text */
  --dark-text-muted: hsl(215 20.2% 50%);       /* Muted text */
  
  /* Different UI surface elevations for dark mode */
  --surface-0: hsl(222.2 84% 4.9%);  /* Base layer (background) */
  --surface-1: hsl(222.2 84% 7%);    /* Slight elevation (cards) */
  --surface-2: hsl(222.2 84% 9%);    /* Medium elevation (dropdowns) */
  --surface-3: hsl(222.2 84% 11%);   /* Higher elevation (modals) */
  --surface-4: hsl(222.2 84% 13%);   /* Highest elevation (tooltips) */
}

/* Body background */
html.dark body,
html[data-theme="dark"] body {
  background-color: var(--dark-bg-primary) !important;
  color: var(--dark-text-primary) !important;
}

/* Main container background */
html.dark main,
html[data-theme="dark"] main {
  background-color: var(--dark-bg-primary) !important;
}

/* Cards in dark mode */
html.dark .card,
html.dark [class*="card"],
html[data-theme="dark"] .card,
html[data-theme="dark"] [class*="card"] {
  background-color: var(--dark-bg-secondary) !important;
  color: var(--dark-text-primary) !important;
  border-color: var(--dark-border) !important;
}

/* Headings and descriptive text */
html.dark h1, html.dark h2, html.dark h3, html.dark h4, html.dark h5, html.dark h6,
html[data-theme="dark"] h1, html[data-theme="dark"] h2, html[data-theme="dark"] h3, 
html[data-theme="dark"] h4, html[data-theme="dark"] h5, html[data-theme="dark"] h6 {
  color: var(--dark-text-primary) !important;
}

/* Fix for text-slate-800 and similar dark text */
html.dark .text-slate-800, html.dark .text-slate-900, html.dark .text-slate-700,
html[data-theme="dark"] .text-slate-800, html[data-theme="dark"] .text-slate-900, html[data-theme="dark"] .text-slate-700 {
  color: var(--dark-text-primary) !important;
}

/* Fix for text-slate-500 and similar mid-tone text */
html.dark .text-slate-500, html.dark .text-slate-600, 
html[data-theme="dark"] .text-slate-500, html[data-theme="dark"] .text-slate-600 {
  color: var(--dark-text-secondary) !important;
}

/* Sidebar fixes */
html.dark aside, html[data-theme="dark"] aside {
  background-color: var(--dark-bg-secondary) !important;
  border-color: var(--dark-border) !important;
}

/* Input elements */
html.dark input, html.dark select, html.dark textarea,
html[data-theme="dark"] input, html[data-theme="dark"] select, html[data-theme="dark"] textarea {
  background-color: var(--dark-bg-tertiary) !important;
  border-color: var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
}

/* Table cells and rows */
html.dark table, html.dark tr, html.dark td, html.dark th,
html[data-theme="dark"] table, html[data-theme="dark"] tr, html[data-theme="dark"] td, html[data-theme="dark"] th {
  border-color: var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
}

/* White card backgrounds - specifically fixes the cards in Why DecA(I)de */
html.dark .bg-white, html[data-theme="dark"] .bg-white {
  background-color: var(--dark-bg-secondary) !important;
  color: var(--dark-text-primary) !important;
}

/* Fix slate backgrounds */
html.dark .bg-slate-50, html.dark .bg-slate-100, html.dark .bg-slate-200,
html[data-theme="dark"] .bg-slate-50, html[data-theme="dark"] .bg-slate-100, html[data-theme="dark"] .bg-slate-200 {
  background-color: var(--dark-bg-primary) !important;
}

/* Fix slate border colors */
html.dark .border-slate-200, html.dark .border-slate-300,
html[data-theme="dark"] .border-slate-200, html[data-theme="dark"] .border-slate-300 {
  border-color: var(--dark-border) !important;
}

/* Fix buttons in dark mode */
html.dark button, html[data-theme="dark"] button {
  color: inherit !important;
}

/* Fix form labels in dark mode */
html.dark label, html[data-theme="dark"] label {
  color: var(--dark-text-primary) !important;
}

/* Fix descriptions in dark mode */
html.dark [class*="description"], html[data-theme="dark"] [class*="description"] {
  color: var(--dark-text-secondary) !important;
}

/* Tables in Subscription view */
html.dark .bg-white th, html[data-theme="dark"] .bg-white th {
  color: var(--dark-text-primary) !important;
}

/* Core theme styling for headers and paragraphs */
html.dark p, html[data-theme="dark"] p {
  color: var(--dark-text-primary) !important;
}

/* Accent colors from current theme */
html.dark .accent-color, html[data-theme="dark"] .accent-color {
  color: hsl(var(--primary)) !important;
}

/* Icons and UI elements in dark mode */
html.dark svg, html[data-theme="dark"] svg {
  color: inherit;
}

/* Chart backgrounds */
html.dark [class*="chart"], html[data-theme="dark"] [class*="chart"] {
  background-color: var(--dark-bg-secondary) !important;
}

/* Surface styles for different UI elevation - apply these classes to elements */
html.dark .surface-0, html[data-theme="dark"] .surface-0 {
  background-color: var(--surface-0) !important;
}

html.dark .surface-1, html[data-theme="dark"] .surface-1 {
  background-color: var(--surface-1) !important;
}

html.dark .surface-2, html[data-theme="dark"] .surface-2 {
  background-color: var(--surface-2) !important;
}

html.dark .surface-3, html[data-theme="dark"] .surface-3 {
  background-color: var(--surface-3) !important;
}

html.dark .surface-4, html[data-theme="dark"] .surface-4 {
  background-color: var(--surface-4) !important;
}

/* Panel backgrounds for Written Events page */
html.dark .panel-bg, html[data-theme="dark"] .panel-bg {
  background-color: var(--dark-bg-secondary) !important;
}

/* Dropdown menus in dark mode */
html.dark [role="menu"], 
html.dark [role="listbox"],
html[data-theme="dark"] [role="menu"],
html[data-theme="dark"] [role="listbox"] {
  background-color: var(--dark-bg-tertiary) !important;
  border-color: var(--dark-border) !important;
}

/* Dropdown menu items */
html.dark [role="menuitem"],
html.dark [role="option"],
html[data-theme="dark"] [role="menuitem"],
html[data-theme="dark"] [role="option"] {
  color: var(--dark-text-primary) !important;
}

/* Dropdown hover states */
html.dark [role="menuitem"]:hover,
html.dark [role="option"]:hover,
html[data-theme="dark"] [role="menuitem"]:hover,
html[data-theme="dark"] [role="option"]:hover {
  background-color: var(--dark-bg-highlight) !important;
}

/* Dashboard cards */
html.dark .dashboard-card,
html[data-theme="dark"] .dashboard-card {
  background-color: var(--dark-bg-secondary) !important;
  border-color: var(--dark-border) !important;
}

/* Progress bars and sliders */
html.dark .progress-bar-bg,
html[data-theme="dark"] .progress-bar-bg {
  background-color: var(--dark-border) !important;
}

html.dark .progress-bar-fill,
html[data-theme="dark"] .progress-bar-fill {
  background-color: var(--accent-color, hsl(var(--primary))) !important;
}

/* Enhanced link styling */
html.dark a:not([class]),
html[data-theme="dark"] a:not([class]) {
  color: hsl(var(--primary)) !important;
  text-decoration: underline;
}

/* Table striping in dark mode */
html.dark tr:nth-child(even),
html[data-theme="dark"] tr:nth-child(even) {
  background-color: var(--surface-1) !important;
}

/* Fix pagination styling */
html.dark nav[aria-label="pagination"],
html[data-theme="dark"] nav[aria-label="pagination"] {
  color: var(--dark-text-primary) !important;
}

/* Fix badge text */
html.dark .badge, html.dark [class*="badge"],
html[data-theme="dark"] .badge, html[data-theme="dark"] [class*="badge"] {
  color: inherit !important;
}

/* Dark mode tooltip */
html.dark [role="tooltip"],
html[data-theme="dark"] [role="tooltip"] {
  background-color: var(--surface-4) !important;
  color: var(--dark-text-primary) !important;
}

/* Dialog/modal backgrounds */
html.dark [role="dialog"],
html[data-theme="dark"] [role="dialog"] {
  background-color: var(--surface-2) !important;
  border-color: var(--dark-border) !important;
}